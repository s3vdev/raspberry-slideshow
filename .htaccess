# Sicherheitseinstellungen für Apache2
Options -Indexes
ServerSignature Off

# Verhindere Zugriff auf .htaccess und andere sensitive Dateien
<Files ~ "^\.">
    Order allow,deny
    Deny from all
</Files>

# Erlaube nur Zugriff auf HTML, CSS, JS und Bilddateien
<FilesMatch "\.(html|css|js|jpg|jpeg|png|gif|bmp|webp|ico)$">
    Order allow,deny
    Allow from all
</FilesMatch>

# Verstecke PHP-Fehler
php_flag display_errors off
php_flag log_errors on

# Setze maximale Upload-Größe (falls nicht in php.ini gesetzt)
php_value upload_max_filesize 10M
php_value post_max_size 10M

# CORS Headers für API-Zugriff
<IfModule mod_headers.c>
    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "GET, POST, OPTIONS"
    Header always set Access-Control-Allow-Headers "Content-Type"
</IfModule>

# Komprimierung für bessere Performance
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/css text/javascript application/javascript
</IfModule>

# Cache-Einstellungen für statische Dateien
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
</IfModule> 